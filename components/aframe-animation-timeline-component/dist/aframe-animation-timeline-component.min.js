!function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e){function i(t){var e,i={};for(e in t)"function"==typeof t[e]?i[e]=t[e]:"object"==typeof t[e]?i[e]=AFRAME.utils.clone(t[e]):i[e]=t[e];return i}document.registerElement("a-timeline"),document.registerElement("a-timeline-group"),document.registerElement("a-timeline-animation"),AFRAME.registerComponent("animation-timeline",{schema:{direction:{type:"string",default:"normal"},loop:{default:0,parse:function(t){return"true"===t||"false"!==t&&parseInt(t,10)}},startEvents:{type:"array"},timeline:{type:"string"}},multiple:!0,init:function(){var t,e=this.data;for(this.animationIsPlaying=!1,this.beginAnimation=this.beginAnimation.bind(this),this.time=0,this.timeline=null,t=0;t<e.startEvents.length;t++)this.el.addEventListener(e.startEvents[t],this.beginAnimation)},play:function(){this.data.startEvents.length||this.beginAnimation()},tick:function(t,e){this.animationIsPlaying&&this.timeline&&(this.time+=e,this.timeline.tick(this.time))},beginAnimation:function(){var t,e,i,n,a,o,r;if(o=document.querySelector(this.data.timeline),"A-TIMELINE"!==o.tagName)throw new Error("[animation-timeline] timeline must be a selector to <a-timeline> element.");for(this.animationIsPlaying=!0,this.time=0,this.timeline=AFRAME.anime.timeline({autoplay:!1,direction:this.data.direction,loop:this.data.loop}),a=0,t=0;t<o.children.length;t++)if("A-TIMELINE-GROUP"!==o.children[t].tagName)"A-TIMELINE-ANIMATION"===o.children[t].tagName&&(a+=this.addAnimationToTimeline(o.children[t],a),a+=parseFloat(o.children[t].getAttribute("offset")||0,10));else{for(r=o.children[t],n=0,e=0;e<r.children.length;e++)i=this.addAnimationToTimeline(r.children[e],a),i>n&&(n=i);a+=n,a+=parseFloat(r.getAttribute("offset")||0,10)}},addAnimationToTimeline:function(t,e){var n,a,o,r,l;for(n="animation__"+t.getAttribute("name"),r=this.el.sceneEl.querySelectorAll(t.getAttribute("select")),l=0;l<r.length;l++)a=r[l].components[n],a.updateConfig(),o=i(a.config),o.offset=e,this.timeline.add(i(o));return(o.duration||0)+(o.delay||0)}})}]);