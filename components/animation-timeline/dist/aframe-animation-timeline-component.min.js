!function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e){function i(t){var e,i={};for(e in t)"function"==typeof t[e]?i[e]=t[e]:"object"==typeof t[e]?i[e]=AFRAME.utils.clone(t[e]):i[e]=t[e];return i}document.registerElement("a-timeline"),document.registerElement("a-timeline-group"),document.registerElement("a-timeline-animation"),AFRAME.registerComponent("animation-timeline",{schema:{direction:{type:"string",default:"normal"},loop:{default:0,parse:function(t){return"true"===t||"false"!==t&&parseInt(t,10)}},startEvents:{type:"array"},timeline:{type:"string"}},multiple:!0,init:function(){var t,e=this.data;for(this.animationIsPlaying=!1,this.beginAnimation=this.beginAnimation.bind(this),this.time=0,this.timeline=null,t=0;t<e.startEvents.length;t++)this.el.addEventListener(e.startEvents[t],this.beginAnimation)},play:function(){this.data.startEvents.length||this.beginAnimation()},tick:function(t,e){this.animationIsPlaying&&this.timeline&&(this.time+=e,this.timeline.tick(this.time))},beginAnimation:function(){var t,e,i,n,o,a,r;if(a=document.querySelector(this.data.timeline),"A-TIMELINE"!==a.tagName)throw new Error("[animation-timeline] timeline must be a selector to <a-timeline> element.");for(this.animationIsPlaying=!0,this.time=0,this.timeline=AFRAME.anime.timeline({autoplay:!1,direction:this.data.direction,loop:this.data.loop}),o=0,t=0;t<a.children.length;t++)if("A-TIMELINE-GROUP"!==a.children[t].tagName)"A-TIMELINE-ANIMATION"===a.children[t].tagName&&(o+=this.addAnimationToTimeline(a.children[t],o),o+=parseFloat(a.children[t].getAttribute("offset")||0,10));else{for(r=a.children[t],n=0,e=0;e<r.children.length;e++)i=this.addAnimationToTimeline(r.children[e],o),i>n&&(n=i);o+=n,o+=parseFloat(r.getAttribute("offset")||0,10)}},addAnimationToTimeline:function(t,e){var n,o,a,r,l,s;if(n="animation__"+t.getAttribute("name"),s=t.getAttribute("select"),r=this.el.sceneEl.querySelectorAll(s),!r.length)return console.warn('[animation-timeline] No entities found for select="'+s+'"'),0;for(l=0;l<r.length;l++){if(o=r[l].components[n],!o)throw new Error("Could not find animation `"+n+"` for `"+t.getAttribute("select")+"`.");o.updateConfig(),a=i(o.config),a.offset=e,this.timeline.add(a)}return(a.duration||0)+(a.delay||0)}})}]);