!function(t){function e(s){if(i[s])return i[s].exports;var n=i[s]={exports:{},id:s,loaded:!1};return t[s].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e){function s(t,e){var i;for(t.length=0,i=0;i<e.length;i++)t[i]=e[i]}if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("aabb-collider",{schema:{objects:{default:""}},init:function(){this.clearedIntersectedEls=[],this.boundingBox=new THREE.Box3,this.boxMax=new THREE.Vector3,this.boxMin=new THREE.Vector3,this.intersectedEls=[],this.objectEls=[],this.newIntersectedEls=[],this.previousIntersectedEls=[],this.hitStartEventDetail={intersectedEls:this.newIntersectedEls}},update:function(t){var e,s=this.el,n=this.data;if(t.objects!==n.objects)for(e=s.sceneEl.querySelectorAll(n.objects),i=0;i<e.length;i++)e[i]!==s&&this.objectEls.push(e[i]);else this.objectEls=s.sceneEl.children},tick:function(t){var e,i,n=this.boundingBox,r=this.clearedIntersectedEls,o=this.intersectedEls,c=this.el,h=this.newIntersectedEls,l=this.objectEls,a=this.previousIntersectedEls;if(i=c.getObject3D("mesh")){for(n.setFromObject(i),this.boxMin.copy(n.min),this.boxMax.copy(n.max),s(a,o),o.length=0,e=0;e<l.length;e++)this.isIntersecting(l[e])&&o.push(l[e]);for(h.length=0,e=0;e<o.length;e++)a.indexOf(o[e])===-1&&h.push(o[e]);for(r.length=0,e=0;e<a.length;e++)o.indexOf(a[e])===-1&&(a[e].hasAttribute("aabb-collider")||(a[e].emit("hitend"),a[e].emit("raycaster-intersected-cleared")),r.push(a[e]));for(e=0;e<h.length;e++)h[e].hasAttribute("aabb-collider")||(h[e].emit("hitstart"),h[e].emit("raycaster-intersected"));r.length&&(c.emit("hitend"),c.emit("raycaster-intersection-cleared")),h.length&&(c.emit("hitstart",this.hitStartEventDetail),c.emit("raycaster-intersection"))}},isIntersecting:function(){var t=new THREE.Box3;return function(e){var i,s,n;if(i=e.getObject3D("mesh"))return t.setFromObject(i),s=t.min,n=t.max,this.boxMin.x<=n.x&&this.boxMax.x>=s.x&&this.boxMin.y<=n.y&&this.boxMax.y>=s.y&&this.boxMin.z<=n.z&&this.boxMax.z>=s.z}}()})}]);